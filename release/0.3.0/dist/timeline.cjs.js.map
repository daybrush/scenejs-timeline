{"version":3,"file":"timeline.cjs.js","sources":["../src/Timeline.tsx"],"sourcesContent":["import PreactTimeline from \"preact-timeline\";\nimport EgComponent from \"@egjs/component\";\nimport { VNode, h, render, Component } from \"preact\";\nimport Scene, { SceneItem } from \"scenejs\";\nimport { TimelineProps, SelectEvent } from \"./types\";\n\nexport default class Timeline extends EgComponent {\n    private timelineArea!: PreactTimeline;\n    constructor(scene: Scene | SceneItem, parentElement: Element, options: TimelineProps = {}) {\n        super();\n        const element = document.createElement(\"div\");\n        render(\n            <PreactTimeline\n                ref={e => { e && (this.timelineArea = e as PreactTimeline) }}\n                keyboard={true}\n                {...options}\n                scene={scene}\n                onSelect={this.onSelect}\n            />,\n            element,\n        );\n\n        parentElement.appendChild(element.children[0]);\n    }\n    public update(isInit?: boolean) {\n        this.timelineArea.update(isInit);\n    }\n    private onSelect = (e: SelectEvent) => {\n        this.trigger(\"select\", e);\n    }\n}\n"],"names":["__extends","scene","parentElement","options","_super","_this","e","trigger","element","document","createElement","render","h","PreactTimeline","ref","timelineArea","keyboard","onSelect","appendChild","children","isInit","update","EgComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA;;;AAAsCA,EAAAA,2BAAA;;AAElC,mBAAA,CAAYC,KAAZ,EAAsCC,aAAtC,EAA8DC,OAA9D;AAA8D,0BAAA,EAAA;AAAAA,MAAAA,YAAA;;;AAA9D,gBACIC,WAAA,KAAA,SADJ;;AAmBQC,IAAAA,cAAA,GAAW,UAACC,CAAD;AACfD,MAAAA,KAAI,CAACE,OAAL,CAAa,QAAb,EAAuBD,CAAvB;AACH,KAFO;;AAjBJ,QAAME,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACAC,IAAAA,aAAM,CACFC,SAACC;AACGC,MAAAA,GAAG,EAAE,UAAAR,CAAA;AAAOA,QAAAA,CAAC,KAAKD,KAAI,CAACU,YAAL,GAAoBT,CAAzB,CAAD;AAAgD;AAC5DU,MAAAA,QAAQ,EAAE;OACNb;AACJF,MAAAA,KAAK,EAAEA;AACPgB,MAAAA,QAAQ,EAAEZ,KAAI,CAACY;OANjB,EAQFT,OARE,CAAN;AAWAN,IAAAA,aAAa,CAACgB,WAAd,CAA0BV,OAAO,CAACW,QAAR,CAAiB,CAAjB,CAA1B;;AACH;;;;AACM,gBAAA,GAAP,UAAcC,MAAd;AACI,SAAKL,YAAL,CAAkBM,MAAlB,CAAyBD,MAAzB;AACH,GAFM;;AAMX,iBAAA;AAxBA,EAAsCE,YAAtC;;;;"}