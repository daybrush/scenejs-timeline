{"version":3,"file":"timeline.esm.js","sources":["../src/Timeline.tsx"],"sourcesContent":["import PreactTimeline from \"preact-timeline\";\nimport EgComponent from \"@egjs/component\";\nimport { VNode, h, render, Component } from \"preact\";\nimport Scene, { SceneItem } from \"scenejs\";\nimport { TimelineProps, SelectEvent } from \"./types\";\n\nexport default class Timeline extends EgComponent {\n    private timelineArea!: PreactTimeline;\n    constructor(scene: Scene | SceneItem, parentElement: Element, options: TimelineProps = {}) {\n        super();\n        const element = document.createElement(\"div\");\n        render(\n            <PreactTimeline\n                ref={e => { e && (this.timelineArea = e as PreactTimeline) }}\n                keyboard={true}\n                {...options}\n                scene={scene}\n                onSelect={this.onSelect}\n            />,\n            element,\n        );\n\n        parentElement.appendChild(element.children[0]);\n    }\n    public update(isInit?: boolean) {\n        this.timelineArea.update(isInit);\n    }\n    private onSelect = (e: SelectEvent) => {\n        this.trigger(\"select\", e);\n    }\n}\n"],"names":["tslib_1","scene","parentElement","options","_super","_this","e","trigger","element","document","createElement","render","h","PreactTimeline","ref","timelineArea","keyboard","onSelect","appendChild","children","isInit","update","EgComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA;;;EAAsCA,SAAA,SAAA,QAAA;;mBAElC,CAAYC,KAAZ,EAAsCC,aAAtC,EAA8DC,OAA9D;0BAA8D,EAAA;MAAAA,YAAA;;;gBAC1DC,WAAA,KAAA,SADJ;;IAmBQC,cAAA,GAAW,UAACC,CAAD;MACfD,KAAI,CAACE,OAAL,CAAa,QAAb,EAAuBD,CAAvB;KADI;;QAjBEE,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;IACAC,MAAM,CACFC,EAACC;MACGC,GAAG,EAAE,UAAAR,CAAA;QAAOA,CAAC,KAAKD,KAAI,CAACU,YAAL,GAAoBT,CAAzB,CAAD;;MACZU,QAAQ,EAAE;OACNb;MACJF,KAAK,EAAEA;MACPgB,QAAQ,EAAEZ,KAAI,CAACY;OANjB,EAQFT,OARE,CAAN;IAWAN,aAAa,CAACgB,WAAd,CAA0BV,OAAO,CAACW,QAAR,CAAiB,CAAjB,CAA1B;;;;;;gBAEG,GAAP,UAAcC,MAAd;SACSL,YAAL,CAAkBM,MAAlB,CAAyBD,MAAzB;GADG;;iBAMX;EAxBsCE,YAAtC;;;;"}