{"version":3,"file":"timeline.min.js","sources":["../src/Timeline.tsx"],"sourcesContent":["import PreactTimeline from \"preact-timeline\";\nimport EgComponent from \"@egjs/component\";\nimport { VNode, h, render, Component } from \"preact\";\nimport Scene, { SceneItem } from \"scenejs\";\nimport { TimelineProps, SelectEvent } from \"./types\";\n\nexport default class Timeline extends EgComponent {\n    private timelineArea!: PreactTimeline;\n    constructor(scene: Scene | SceneItem, parentElement: Element, options: TimelineProps = {}) {\n        super();\n        const element = document.createElement(\"div\");\n        render(\n            <PreactTimeline\n                ref={e => { e && (this.timelineArea = e as PreactTimeline) }}\n                keyboard={true}\n                {...options}\n                scene={scene}\n                onSelect={this.onSelect}\n            />,\n            element,\n        );\n\n        parentElement.appendChild(element.children[0]);\n    }\n    public update(isInit?: boolean) {\n        this.timelineArea.update(isInit);\n    }\n    private onSelect = (e: SelectEvent) => {\n        this.trigger(\"select\", e);\n    }\n}\n"],"names":["scene","parentElement","options","_super","_this","e","trigger","element","document","createElement","h","PreactTimeline","ref","timelineArea","keyboard","onSelect","appendChild","children","isInit","update","EgComponent"],"mappings":";;;;;;;;23lEAQgBA,EAA0BC,EAAwBC,gBAAAA,YAC1DC,mBAkBIC,WAAW,SAACC,GAChBD,EAAKE,QAAQ,SAAUD,UAlBjBE,EAAUC,SAASC,cAAc,gBAEnCC,EAACC,MACGC,IAAK,SAAAP,GAAOA,IAAMD,EAAKS,aAAeR,IACtCS,UAAU,GACNZ,GACJF,MAAOA,EACPe,SAAUX,EAAKW,wBAEnBR,MAGJN,EAAce,YAAYT,EAAQU,SAAS,iHAE/C,SAAcC,QACLL,aAAaM,OAAOD,OAnBKE"}